
Rho Under development (unstable) (2020-03-26 ra04ed1cd38) -- "R(C) -> Rho(C++)"
Rho Copyright (C) 2008-2014 Andrew R. Runnalls

R Under development (unstable) (2017-02-17 r72200) -- "Frisbee Sailing"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

Rho is not part of the R project, so please do not report bugs
via r-bugs or the R website - instead refer to the author.

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> pkgname <- "tools"
> source(file.path(R.home("share"), "R", "examples-header.R"))
> options(warn = 1)
> library('tools')
> 
> base::assign(".oldSearch", base::search(), pos = 'CheckExEnv')
> cleanEx()
> nameEx("CRANtools")
> ### * CRANtools
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: CRANtools
> ### Title: CRAN Package Repository Tools
> ### Aliases: CRAN_package_db CRAN_check_results CRAN_check_details
> ###   CRAN_memtest_notes summarize_CRAN_check_status
> 
> ### ** Examples
> 
> ## IGNORE_RDIFF_BEGIN
> ## Don't show: 
> set.seed(11)
> ## End(Don't show)
> pdb <- CRAN_package_db()
> dim(pdb)
[1] 15556    64
> ## DESCRIPTION fields included:
> colnames(pdb)
 [1] "Package"                 "Version"                
 [3] "Priority"                "Depends"                
 [5] "Imports"                 "LinkingTo"              
 [7] "Suggests"                "Enhances"               
 [9] "License"                 "License_is_FOSS"        
[11] "License_restricts_use"   "OS_type"                
[13] "Archs"                   "MD5sum"                 
[15] "NeedsCompilation"        "Additional_repositories"
[17] "Author"                  "Authors@R"              
[19] "Biarch"                  "BugReports"             
[21] "BuildKeepEmpty"          "BuildManual"            
[23] "BuildResaveData"         "BuildVignettes"         
[25] "Built"                   "ByteCompile"            
[27] "Classification/ACM"      "Classification/ACM-2012"
[29] "Classification/JEL"      "Classification/MSC"     
[31] "Classification/MSC-2010" "Collate"                
[33] "Collate.unix"            "Collate.windows"        
[35] "Contact"                 "Copyright"              
[37] "Date"                    "Description"            
[39] "Encoding"                "KeepSource"             
[41] "Language"                "LazyData"               
[43] "LazyDataCompression"     "LazyLoad"               
[45] "MailingList"             "Maintainer"             
[47] "Note"                    "Packaged"               
[49] "RdMacros"                "SysDataCompression"     
[51] "SystemRequirements"      "Title"                  
[53] "Type"                    "URL"                    
[55] "VignetteBuilder"         "ZipData"                
[57] "Published"               "Path"                   
[59] "X-CRAN-Comment"          "Reverse depends"        
[61] "Reverse imports"         "Reverse linking to"     
[63] "Reverse suggests"        "Reverse enhances"       
> ## Summarize publication dates:
> summary(as.Date(pdb$Published))
        Min.      1st Qu.       Median         Mean      3rd Qu.         Max. 
"2006-03-15" "2017-02-22" "2018-12-25" "2018-03-21" "2019-12-01" "2020-03-26" 
> ## Summarize numbers of packages according to maintainer:
> summary(lengths(split(pdb$Package, pdb$Maintainer)))
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  1.000   1.000   1.000   1.697   2.000  63.000 
> ## Packages with 'LASSO' in their Description:
> pdb$Package[grepl("LASSO", pdb$Description)]
 [1] "apple"             "CovSelHigh"        "crrp"             
 [4] "expandFunctions"   "extlasso"          "fastcmprsk"       
 [7] "FeaLect"           "FindIt"            "fsMTS"            
[10] "gcdnet"            "glassoFast"        "glmaag"           
[13] "glmvsd"            "HTLR"              "ISBF"             
[16] "MetabolicSurv"     "milr"              "mpath"            
[19] "MTE"               "MVB"               "ncpen"            
[22] "nets"              "NPMLENCC"          "onlineVAR"        
[25] "pgee.mixed"        "polywog"           "ppmlasso"         
[28] "rbridge"           "rqPen"             "rrat"             
[31] "SentimentAnalysis" "SparseBiplots"     "SSLASSO"          
[34] "stR"              
> 
> results <- CRAN_check_results()
> ## Available variables:
> names(results)
 [1] "Flavor"     "Package"    "Version"    "Priority"   "Maintainer"
 [6] "Status"     "Flags"      "T_check"    "T_install"  "T_total"   
> ## Tabulate overall check status according to flavor:
> with(results, table(Flavor, Status))
                                   Status
Flavor                              ERROR  FAIL  NOTE    OK  WARN
  r-devel-linux-x86_64-debian-clang   175     2  2519 12690   105
  r-devel-linux-x86_64-debian-gcc     163     2  2521 12752    53
  r-devel-linux-x86_64-fedora-clang   164     0  4748 10459   116
  r-devel-linux-x86_64-fedora-gcc     156     0  4072 11225    37
  r-devel-windows-ix86+x86_64         406     2  2466 12339   114
  r-devel-windows-ix86+x86_64-gcc8     84     3  2617 12457    65
  r-patched-linux-x86_64               51     3  2162 13218    27
  r-patched-solaris-x86               278     0  3822 11036   230
  r-release-linux-x86_64               51     3  2154 13240    40
  r-release-windows-ix86+x86_64       103     4  2404 12878    32
  r-release-osx-x86_64                248    95  3889 10782   481
  r-oldrel-windows-ix86+x86_64        229     9  2370 12651    69
  r-oldrel-osx-x86_64                 489    10  3805 10813   355
> 
> details <- CRAN_check_details()
> ## Available variables:
> names(details)
[1] "Package"    "Version"    "Flavor"     "Check"      "Status"    
[6] "Output"     "Flags"      "Maintainer"
> ## Tabulate checks according to their status:
> tab <- with(details, table(Check, Status))
> ## Inspect some installation problems:
> bad <- subset(details,
+               ((Check == "whether package can be installed") &
+                (Status != "OK")))
> head(bad[sample(seq_len(NROW(bad)), NROW(bad)), ])
Package: Rcplex 0.3-3
Flavor: r-devel-windows-ix86+x86_64-gcc8
Check: whether package can be installed, Result: ERROR
  Installation failed.
  See 'd:/Rcompile/CRANpkg/local/4.0gcc8/Rcplex.Rcheck/00install.out' for details.

Package: aibd 0.1.7
Flavor: r-devel-linux-x86_64-debian-clang
Check: whether package can be installed, Result: ERROR
  Installation failed.
  See '/home/hornik/tmp/R.check/r-devel-clang/Work/PKGS/aibd.Rcheck/00install.out' for details.

Package: loon 1.2.3
Flavor: r-release-osx-x86_64
Check: whether package can be installed, Result: ERROR
  Installation failed.
  See ‘/Volumes/SSD-Data/Builds/R-dev-web/QA/Simon/packages/el-capitan-x86_64/results/3.6/loon.Rcheck/00install.out’ for details.

Package: Immigrate 0.0.2
Flavor: r-devel-linux-x86_64-debian-clang
Check: whether package can be installed, Result: WARNING
  Found the following significant warnings:
    IM4ECpp.cpp:24:54: warning: explicitly assigning value of variable of type 'double' to itself [-Wself-assign]
    IM4ECpp.cpp:24:65: warning: explicitly assigning value of variable of type 'double' to itself [-Wself-assign]
    IM4ECpp.cpp:33:54: warning: explicitly assigning value of variable of type 'double' to itself [-Wself-assign]
    IM4ECpp.cpp:33:65: warning: explicitly assigning value of variable of type 'double' to itself [-Wself-assign]
    ImmigrateCpp.cpp:22:62: warning: explicitly assigning value of variable of type 'double' to itself [-Wself-assign]
    ImmigrateCpp.cpp:32:62: warning: explicitly assigning value of variable of type 'double' to itself [-Wself-assign]
    imIM4ECpp.cpp:24:59: warning: explicitly assigning value of variable of type 'double' to itself [-Wself-assign]
    imIM4ECpp.cpp:24:67: warning: explicitly assigning value of variable of type 'double' to itself [-Wself-assign]
    imIM4ECpp.cpp:24:78: warning: explicitly assigning value of variable of type 'double' to itself [-Wself-assign]
    imIM4ECpp.cpp:33:59: warning: explicitly assigning value of variable of type 'double' to itself [-Wself-assign]
    imIM4ECpp.cpp:33:67: warning: explicitly assigning value of variable of type 'double' to itself [-Wself-assign]
    imIM4ECpp.cpp:33:78: warning: explicitly assigning value of variable of type 'double' to itself [-Wself-assign]
  See '/home/hornik/tmp/R.check/r-devel-clang/Work/PKGS/Immigrate.Rcheck/00install.out' for details.

Package: BayesBD 1.2
Flavor: r-devel-linux-x86_64-fedora-clang
Check: whether package can be installed, Result: WARNING
  Found the following significant warnings:
    rcpparma_hello_world.cpp:930:4: warning: explicitly assigning value of variable of type 'arma::colvec' (aka 'Col<double>') to itself [-Wself-assign-overloaded]
    rcpparma_hello_world.cpp:930:12: warning: explicitly assigning value of variable of type 'arma::colvec' (aka 'Col<double>') to itself [-Wself-assign-overloaded]
    rcpparma_hello_world.cpp:939:4: warning: explicitly assigning value of variable of type 'arma::colvec' (aka 'Col<double>') to itself [-Wself-assign-overloaded]
    rcpparma_hello_world.cpp:939:12: warning: explicitly assigning value of variable of type 'arma::colvec' (aka 'Col<double>') to itself [-Wself-assign-overloaded]
  See ‘/data/gannet/ripley/R/packages/tests-clang/BayesBD.Rcheck/00install.out’ for details.

Package: SafeBayes 1.1
Flavor: r-oldrel-osx-x86_64
Check: whether package can be installed, Result: WARNING
  Found the following significant warnings:
    dists.cc:4239:21: warning: explicitly assigning value of variable of type 'double' to itself [-Wself-assign]
  See ‘/Volumes/SSD-Data/Builds/R-dev-web/QA/Simon/packages/el-capitan-x86_64/results/3.5/SafeBayes.Rcheck/00install.out’ for details.
> 
> mtnotes <- CRAN_memtest_notes()
> head(mtnotes)
list()
> ## Show counts of issues according to test:
> table(do.call(rbind, mtnotes)[, "Test"])
< table of extent 0 >
> 
> ## Summarize CRAN check status for 10 random packages
> ## (reusing the information already read in):
> pos <- sample(seq_len(NROW(pdb)), 10L)
> summarize_CRAN_check_status(pdb[pos, "Package"],
+                             results, details, mtnotes)
Error in `[.default`(table(r$Status), c("ERROR", "WARN", "NOTE", "OK")) : 
  subscript out of bounds
Calls: summarize_CRAN_check_status ... <- -> [ -> [ -> [.table -> <- -> NextMethod -> [.default

Traceback:
 1: `[.default`(table(r$Status), c("ERROR", "WARN", "NOTE", "OK"))
 2: NextMethod()
 3: ret <- NextMethod()
 4: `[.table`(table(r$Status), c("ERROR", "WARN", "NOTE", "OK"))
 5: table(r$Status)[c("ERROR", "WARN", "NOTE", "OK")]
 6: table(r$Status)[c("ERROR", "WARN", "NOTE", "OK")]
 7: tab <- table(r$Status)[c("ERROR", "WARN", "NOTE", "OK")]
 8: summarize_results(p, r)
 9: c(summarize_results(p, r), summarize_mtnotes(p, m), summarize_details(p,     d))
10: list(...)
11: paste(c(summarize_results(p, r), summarize_mtnotes(p, m), summarize_details(p,     d)), collapse = "\n\n")
12: summarize(p, results[[p]], details[[p]], mtnotes[[p]])
13: FUN(X[[i]], ...)
14: lapply(package, function(p) {    summarize(p, results[[p]], details[[p]], mtnotes[[p]])})
15: unlist(lapply(package, function(p) {    summarize(p, results[[p]], details[[p]], mtnotes[[p]])}))
16: s <- if (length(package) == 1L) {    summarize(package, results, details, mtnotes[[package]])} else {    results <- split(results, factor(results$Package, package))    details <- split(details, factor(details$Package, package))    unlist(lapply(package, function(p) {        summarize(p, results[[p]], details[[p]], mtnotes[[p]])    }))}
17: summarize_CRAN_check_status(pdb[pos, "Package"], results, details,     mtnotes)

Execution halted
